<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Named Dimensions · MriReconstructionToolbox.jl</title><meta name="title" content="Named Dimensions · MriReconstructionToolbox.jl"/><meta property="og:title" content="Named Dimensions · MriReconstructionToolbox.jl"/><meta property="twitter:title" content="Named Dimensions · MriReconstructionToolbox.jl"/><meta name="description" content="Documentation for MriReconstructionToolbox.jl."/><meta property="og:description" content="Documentation for MriReconstructionToolbox.jl."/><meta property="twitter:description" content="Documentation for MriReconstructionToolbox.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.svg" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img class="docs-light-only" src="../../assets/logo.svg" alt="MriReconstructionToolbox.jl logo"/><img class="docs-dark-only" src="../../assets/logo-dark.svg" alt="MriReconstructionToolbox.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">MriReconstructionToolbox.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../theory/">Theoretical Background</a></li><li><span class="tocitem">High-level Interface</span><ul><li><a class="tocitem" href="../acquisition_info/">AcquisitionInfo</a></li><li><a class="tocitem" href="../simulation/">Simulation Tools</a></li><li><a class="tocitem" href="../reconstruction/">Reconstruction</a></li><li><a class="tocitem" href="../regularization/">Regularization</a></li><li><a class="tocitem" href="../algorithms/">Optimization Algorithms</a></li><li class="is-active"><a class="tocitem" href>Named Dimensions</a><ul class="internal"><li><a class="tocitem" href="#Why-Named-Dimensions?"><span>Why Named Dimensions?</span></a></li><li><a class="tocitem" href="#Getting-Started"><span>Getting Started</span></a></li><li><a class="tocitem" href="#Dimension-Naming-Conventions"><span>Dimension Naming Conventions</span></a></li><li><a class="tocitem" href="#Working-with-Named-Arrays"><span>Working with Named Arrays</span></a></li><li><a class="tocitem" href="#Using-with-MriReconstructionToolbox"><span>Using with MriReconstructionToolbox</span></a></li><li><a class="tocitem" href="#Complete-Workflow-Examples"><span>Complete Workflow Examples</span></a></li><li><a class="tocitem" href="#Advanced-Techniques"><span>Advanced Techniques</span></a></li></ul></li><li><a class="tocitem" href="../decomposition/">Problem Decomposition</a></li></ul></li><li><span class="tocitem">Low-Level Interface</span><ul><li><a class="tocitem" href="../../low-level/operators/">MRI Operators</a></li><li><a class="tocitem" href="../../low-level/custom_reconstruction/">Custom Reconstruction</a></li><li><a class="tocitem" href="../../low-level/abstract_operators/">AbstractOperators.jl</a></li><li><a class="tocitem" href="../../low-level/proximal_operators/">ProximalOperators.jl</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">High-level Interface</a></li><li class="is-active"><a href>Named Dimensions</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Named Dimensions</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/hakkelt/MriReconstructionToolbox.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/hakkelt/MriReconstructionToolbox.jl/blob/master/docs/src/high-level/nameddims.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Named-Dimensions-Workflow"><a class="docs-heading-anchor" href="#Named-Dimensions-Workflow">Named Dimensions Workflow</a><a id="Named-Dimensions-Workflow-1"></a><a class="docs-heading-anchor-permalink" href="#Named-Dimensions-Workflow" title="Permalink"></a></h1><p>Named dimensions provide a type-safe, self-documenting way to work with MRI data. This guide explains how to use NamedDims.jl with MriReconstructionToolbox for clearer, less error-prone code.</p><h2 id="Why-Named-Dimensions?"><a class="docs-heading-anchor" href="#Why-Named-Dimensions?">Why Named Dimensions?</a><a id="Why-Named-Dimensions?-1"></a><a class="docs-heading-anchor-permalink" href="#Why-Named-Dimensions?" title="Permalink"></a></h2><h3 id="The-Problem-with-Raw-Arrays"><a class="docs-heading-anchor" href="#The-Problem-with-Raw-Arrays">The Problem with Raw Arrays</a><a id="The-Problem-with-Raw-Arrays-1"></a><a class="docs-heading-anchor-permalink" href="#The-Problem-with-Raw-Arrays" title="Permalink"></a></h3><p>Consider this common mistake:</p><pre><code class="language-julia hljs"># Raw arrays - easy to mix up dimensions
ksp = rand(ComplexF32, 256, 256, 8, 20)  # What do these dimensions mean?
                                         # Is it (kx, ky, coil, time)?
                                         # Or (kx, ky, time, coil)?
                                         # Or something else?

# Easy to make mistakes
result = sum(ksp, dims=3)  # Did we mean to average over coils?
                            # Or time? Hard to tell!</code></pre><h3 id="The-Solution:-Named-Dimensions"><a class="docs-heading-anchor" href="#The-Solution:-Named-Dimensions">The Solution: Named Dimensions</a><a id="The-Solution:-Named-Dimensions-1"></a><a class="docs-heading-anchor-permalink" href="#The-Solution:-Named-Dimensions" title="Permalink"></a></h3><pre><code class="language-julia hljs">using NamedDims

# Named dimensions - crystal clear
ksp = NamedDimsArray{(:kx, :ky, :coil, :time)}(
    rand(ComplexF32, 256, 256, 8, 20)
)

# Now it&#39;s obvious what we&#39;re doing
result = sum(ksp, dims=:coil)  # Clearly averaging over coils
slice = ksp[kx=128, ky=1:256, coil=1, time=:]  # Self-documenting indexing</code></pre><p><strong>Benefits:</strong></p><ul><li>✅ <strong>Prevents dimension mix-ups</strong> - Compiler catches dimension errors</li><li>✅ <strong>Self-documenting code</strong> - Clear what each dimension represents</li><li>✅ <strong>Safer refactoring</strong> - Reorder dimensions without breaking code</li><li>✅ <strong>Better IDE support</strong> - Autocomplete shows dimension names</li></ul><h2 id="Getting-Started"><a class="docs-heading-anchor" href="#Getting-Started">Getting Started</a><a id="Getting-Started-1"></a><a class="docs-heading-anchor-permalink" href="#Getting-Started" title="Permalink"></a></h2><h3 id="Installation"><a class="docs-heading-anchor" href="#Installation">Installation</a><a id="Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Installation" title="Permalink"></a></h3><p>NamedDims.jl is re-exported by MriReconstructionToolbox:</p><pre><code class="language-julia hljs">using MriReconstructionToolbox
# NamedDims is now available</code></pre><h3 id="Creating-Named-Arrays"><a class="docs-heading-anchor" href="#Creating-Named-Arrays">Creating Named Arrays</a><a id="Creating-Named-Arrays-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-Named-Arrays" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Start with regular array
ksp_data = rand(ComplexF32, 256, 256, 8)

# Add names
ksp = NamedDimsArray{(:kx, :ky, :coil)}(ksp_data)

# Or in one line
ksp = NamedDimsArray{(:kx, :ky, :coil)}(
    rand(ComplexF32, 256, 256, 8)
)</code></pre><h2 id="Dimension-Naming-Conventions"><a class="docs-heading-anchor" href="#Dimension-Naming-Conventions">Dimension Naming Conventions</a><a id="Dimension-Naming-Conventions-1"></a><a class="docs-heading-anchor-permalink" href="#Dimension-Naming-Conventions" title="Permalink"></a></h2><h3 id="K-Space-Dimensions"><a class="docs-heading-anchor" href="#K-Space-Dimensions">K-Space Dimensions</a><a id="K-Space-Dimensions-1"></a><a class="docs-heading-anchor-permalink" href="#K-Space-Dimensions" title="Permalink"></a></h3><p>Standard names for k-space data: <code>:kx</code>, <code>:ky</code>, <code>:kz</code> or <code>:z</code>, <code>:coil</code></p><pre><code class="language-julia hljs"># 2D single-coil
ksp = NamedDimsArray{(:kx, :ky)}(...)

# 2D multi-coil
ksp = NamedDimsArray{(:kx, :ky, :coil)}(...)

# 3D single-coil
ksp = NamedDimsArray{(:kx, :ky, :kz)}(...)

# 3D multi-coil
ksp = NamedDimsArray{(:kx, :ky, :kz, :coil)}(...)</code></pre><div class="admonition is-info" id="Note-e5c1f0e5f6233392"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-e5c1f0e5f6233392" title="Permalink"></a></header><div class="admonition-body"><p>The presence of the <code>:kz</code> dimension indicates 3D data. If <code>:kz</code> is absent, the data is treated as 2D. Multi-slice data should include <code>:z</code> as the first batch dimension, not <code>:kz</code> or <code>:slice</code>.</p></div></div><h3 id="Image-Dimensions"><a class="docs-heading-anchor" href="#Image-Dimensions">Image Dimensions</a><a id="Image-Dimensions-1"></a><a class="docs-heading-anchor-permalink" href="#Image-Dimensions" title="Permalink"></a></h3><p>Standard names for image space: <code>:x</code>, <code>:y</code>, <code>:z</code>, <code>:coil</code></p><pre><code class="language-julia hljs"># 2D image
img = NamedDimsArray{(:x, :y)}(...)

# 2D image with coils (before combination)
img = NamedDimsArray{(:x, :y, :coil)}(...)

# 3D image
img = NamedDimsArray{(:x, :y, :z)}(...)</code></pre><h3 id="Batch-Dimensions"><a class="docs-heading-anchor" href="#Batch-Dimensions">Batch Dimensions</a><a id="Batch-Dimensions-1"></a><a class="docs-heading-anchor-permalink" href="#Batch-Dimensions" title="Permalink"></a></h3><p>Additional dimensions for multi-dimensional data can be freely named:</p><pre><code class="language-julia hljs"># Dynamic 2D (time series)
ksp = NamedDimsArray{(:kx, :ky, :coil, :time)}(...)

# Multi-slice 2D
ksp = NamedDimsArray{(:kx, :ky, :coil, :z)}(...)

# Multi-contrast
ksp = NamedDimsArray{(:kx, :ky, :coil, :contrast)}(...)

# Multiple batch dimensions
ksp = NamedDimsArray{(:kx, :ky, :coil, :z, :contrast)}(...)

# 3D dynamic
ksp = NamedDimsArray{(:kx, :ky, :kz, :coil, :time)}(...)</code></pre><h2 id="Working-with-Named-Arrays"><a class="docs-heading-anchor" href="#Working-with-Named-Arrays">Working with Named Arrays</a><a id="Working-with-Named-Arrays-1"></a><a class="docs-heading-anchor-permalink" href="#Working-with-Named-Arrays" title="Permalink"></a></h2><h3 id="Indexing"><a class="docs-heading-anchor" href="#Indexing">Indexing</a><a id="Indexing-1"></a><a class="docs-heading-anchor-permalink" href="#Indexing" title="Permalink"></a></h3><pre><code class="language-julia hljs">ksp = NamedDimsArray{(:kx, :ky, :coil, :time)}(
    rand(ComplexF32, 256, 256, 8, 30)
)

# Named indexing - clear and safe
first_coil = ksp[coil=1]  # All data from first coil
center_kspace = ksp[kx=128, ky=128, coil=:, time=:]
center_kspace = ksp[kx=128, ky=128]  # same as above
time_series = ksp[kx=128, ky=128, coil=1, time=:]

# Mix names and regular indices
middle_time = ksp[:, :, :, 15]  # Still works
# Or better:
middle_time = ksp[time=15]  # Clearer!

# Ranges
subregion = ksp[kx=100:150, ky=100:150, coil=:, time=1:10]</code></pre><h3 id="Reductions"><a class="docs-heading-anchor" href="#Reductions">Reductions</a><a id="Reductions-1"></a><a class="docs-heading-anchor-permalink" href="#Reductions" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Named dimensions make reductions clear
mean_over_time = mean(ksp, dims=:time)
sum_over_coils = sum(ksp, dims=:coil)
std_spatial = std(ksp, dims=(:kx, :ky))

# Result preserves other dimension names
# If ksp is (:kx, :ky, :coil, :time)
# mean(ksp, dims=:time) is (:kx, :ky, :coil, :time) with size(..., ..., ..., 1)</code></pre><h3 id="Dimension-Queries"><a class="docs-heading-anchor" href="#Dimension-Queries">Dimension Queries</a><a id="Dimension-Queries-1"></a><a class="docs-heading-anchor-permalink" href="#Dimension-Queries" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Get dimension names
dimnames(ksp)  # Returns (:kx, :ky, :coil, :time)

# Check if dimension exists
:time in dimnames(ksp)  # true
:z in dimnames(ksp)     # false</code></pre><h2 id="Using-with-MriReconstructionToolbox"><a class="docs-heading-anchor" href="#Using-with-MriReconstructionToolbox">Using with MriReconstructionToolbox</a><a id="Using-with-MriReconstructionToolbox-1"></a><a class="docs-heading-anchor-permalink" href="#Using-with-MriReconstructionToolbox" title="Permalink"></a></h2><h3 id="Automatic-Operator-Creation"><a class="docs-heading-anchor" href="#Automatic-Operator-Creation">Automatic Operator Creation</a><a id="Automatic-Operator-Creation-1"></a><a class="docs-heading-anchor-permalink" href="#Automatic-Operator-Creation" title="Permalink"></a></h3><p>The package automatically handles named dimensions:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; ksp = NamedDimsArray{(:kx, :ky, :coil)}(
           rand(ComplexF32, 256, 256, 8)
       );</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; smaps = NamedDimsArray{(:x, :y, :coil)}(
           coil_sensitivities(256, 256, 8)
       );</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; data = AcquisitionInfo(ksp; sensitivity_maps=smaps)</code><code class="nohighlight hljs ansi" style="display:block;">AcquisitionInfo:
  - kspace data = Array{ComplexF32}&lt;kx: 256, ky: 256, coil: 8&gt;
  - encoding = 2D
  - image size = 256×256
  - sensitivity maps = ComplexF32&lt;256×256×8&gt;</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; E = get_encoding_operator(ksp; sensitivity_maps=smaps)</code><code class="nohighlight hljs ansi" style="display:block;">Π  ℂ^(256, 256) -&gt; ℂ^(256, 256, 8)</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; E = get_encoding_operator(data)  # Same result</code><code class="nohighlight hljs ansi" style="display:block;">Π  ℂ^(256, 256) -&gt; ℂ^(256, 256, 8)</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; img = E&#39; * ksp;</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; dimnames(img)</code><code class="nohighlight hljs ansi" style="display:block;">(:x, :y)</code></pre><h3 id="Reconstruction-with-Named-Dimensions"><a class="docs-heading-anchor" href="#Reconstruction-with-Named-Dimensions">Reconstruction with Named Dimensions</a><a id="Reconstruction-with-Named-Dimensions-1"></a><a class="docs-heading-anchor-permalink" href="#Reconstruction-with-Named-Dimensions" title="Permalink"></a></h3><pre><code class="language-julia hljs"># High-level reconstruct function
img = reconstruct(AcquisitionInfo(ksp; sensitivity_maps=smaps))

# Result has named dimensions
dimnames(img)  # (:x, :y)

# Can index result by name
center_pixel = img[x=128, y=128]</code></pre><h3 id="Dimension-Inference"><a class="docs-heading-anchor" href="#Dimension-Inference">Dimension Inference</a><a id="Dimension-Inference-1"></a><a class="docs-heading-anchor-permalink" href="#Dimension-Inference" title="Permalink"></a></h3><p>The package infers 2D vs 3D from dimension names:</p><pre><code class="language-julia hljs"># 2D - no :kz dimension
ksp_2d = NamedDimsArray{(:kx, :ky, :coil)}(...)
E_2d = get_encoding_operator(ksp_2d)  # Creates 2D operator

# 3D - has :kz dimension
ksp_3d = NamedDimsArray{(:kx, :ky, :kz, :coil)}(...)
E_3d = get_encoding_operator(ksp_3d)  # Creates 3D operator

# No need to specify is3D=true/false!</code></pre><h2 id="Complete-Workflow-Examples"><a class="docs-heading-anchor" href="#Complete-Workflow-Examples">Complete Workflow Examples</a><a id="Complete-Workflow-Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Complete-Workflow-Examples" title="Permalink"></a></h2><h3 id="Example-1:-Basic-2D-Reconstruction"><a class="docs-heading-anchor" href="#Example-1:-Basic-2D-Reconstruction">Example 1: Basic 2D Reconstruction</a><a id="Example-1:-Basic-2D-Reconstruction-1"></a><a class="docs-heading-anchor-permalink" href="#Example-1:-Basic-2D-Reconstruction" title="Permalink"></a></h3><pre><code class="language-julia hljs">using MriReconstructionToolbox

# 1. Create phantom with names
img_true = NamedDimsArray{(:x, :y)}(shepp_logan(256, 256))

# 2. Create sensitivity maps with names
smaps = NamedDimsArray{(:x, :y, :coil)}(
    coil_sensitivities(256, 256, 8)
)

# 3. Create sampling pattern (regular array is fine)
pdf = VariableDensitySampling(GaussianDistribution(3), 3.0)
mask = create_sampling_pattern(pdf, (256, 256))

# 4. Simulate acquisition
acq = AcquisitionInfo(image_size=(256, 256),
                      sensitivity_maps=smaps,
                      subsampling=mask)
acq = simulate_acquisition(img_true, acq)

# acq.kspace_data is now NamedDimsArray{(:kx, :ky, :coil)}

# 5. Reconstruct
img_recon = reconstruct(acq, L1Wavelet2D(5e-3), verbose=false)

# 6. Compare
dimnames(img_recon)  # (:x, :y) - preserved from input</code></pre><h3 id="Example-2:-Dynamic-Cardiac-Imaging"><a class="docs-heading-anchor" href="#Example-2:-Dynamic-Cardiac-Imaging">Example 2: Dynamic Cardiac Imaging</a><a id="Example-2:-Dynamic-Cardiac-Imaging-1"></a><a class="docs-heading-anchor-permalink" href="#Example-2:-Dynamic-Cardiac-Imaging" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Create 2D+time data
nt = 30
img_data = rand(ComplexF32, 256, 256, nt)
img_true = NamedDimsArray{(:x, :y, :cardiac_phase)}(img_data)

# Sensitivity maps (same for all phases)
smaps = NamedDimsArray{(:x, :y, :coil)}(
    coil_sensitivities(256, 256, 8)
)

# Create and simulate acquisition
pdf = VariableDensitySampling(GaussianDistribution(3), 3.0)
mask = create_sampling_pattern(pdf, (256, 256))
acq = AcquisitionInfo(image_size=(256, 256),
                      sensitivity_maps=smaps,
                      subsampling=mask)
acq = simulate_acquisition(img_true, acq)

# K-space is now (:kx, :ky, :coil, :cardiac_phase)
dimnames(acq.kspace_data)

# Reconstruct with temporal regularization
img_recon = reconstruct(acq, verbose=false)

# Result preserves batch dimension
dimnames(img_recon)  # (:x, :y, :cardiac_phase)

# Easy to extract specific phases
systolic_phase = img_recon[cardiac_phase=5]
diastolic_phase = img_recon[cardiac_phase=20]</code></pre><h3 id="Example-3:-Multi-Slice-3D"><a class="docs-heading-anchor" href="#Example-3:-Multi-Slice-3D">Example 3: Multi-Slice 3D</a><a id="Example-3:-Multi-Slice-3D-1"></a><a class="docs-heading-anchor-permalink" href="#Example-3:-Multi-Slice-3D" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Multi-slice 2D acquisition
nslices = 40
ksp_data = rand(ComplexF32, 256, 256, 8, nslices)
ksp = NamedDimsArray{(:kx, :ky, :coil, :z)}(ksp_data)

# 3D sensitivity maps
smaps_data = coil_sensitivities(256, 256, 8)
smaps = NamedDimsArray{(:x, :y, :coil)}(smaps_data)

# Create acquisition
acq = AcquisitionInfo(ksp; sensitivity_maps=smaps)

# Reconstruct
img = reconstruct(acq, verbose=false)

# Result is (:x, :y, :z)
dimnames(img)

# Easy to access individual slices
slice_10 = img[z=10]
middle_slices = img[z=15:25]
nothing # hide</code></pre><h2 id="Advanced-Techniques"><a class="docs-heading-anchor" href="#Advanced-Techniques">Advanced Techniques</a><a id="Advanced-Techniques-1"></a><a class="docs-heading-anchor-permalink" href="#Advanced-Techniques" title="Permalink"></a></h2><h3 id="Dimension-Transformations"><a class="docs-heading-anchor" href="#Dimension-Transformations">Dimension Transformations</a><a id="Dimension-Transformations-1"></a><a class="docs-heading-anchor-permalink" href="#Dimension-Transformations" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Rename dimensions
ksp = NamedDimsArray{(:kx, :ky, :coil, :time)}(data)
# Convert :time to :cardiac_phase
img = reconstruct(acq)  # Result has same batch dim names
# Can&#39;t directly rename in NamedDims, but can rewrap
img_renamed = NamedDimsArray{(:x, :y, :cardiac_phase)}(parent(img))</code></pre><h3 id="Combining-with-Regular-Arrays"><a class="docs-heading-anchor" href="#Combining-with-Regular-Arrays">Combining with Regular Arrays</a><a id="Combining-with-Regular-Arrays-1"></a><a class="docs-heading-anchor-permalink" href="#Combining-with-Regular-Arrays" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Named array
ksp_named = NamedDimsArray{(:kx, :ky, :coil)}(...)

# Extract regular array when needed
ksp_regular = parent(ksp_named)
ksp_regular = unname(ksp_named)  # Alternative way that works even if input is not NamedDimsArray

# Some functions may require regular arrays
result = some_function(parent(ksp_named))

# Re-wrap result
result_named = NamedDimsArray{(:x, :y)}(result)</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../algorithms/">« Optimization Algorithms</a><a class="docs-footer-nextpage" href="../decomposition/">Problem Decomposition »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.0 on <span class="colophon-date" title="Wednesday 19 November 2025 02:24">Wednesday 19 November 2025</span>. Using Julia version 1.12.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
